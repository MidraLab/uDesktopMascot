# uDesktopMascot

[![Unity Version](https://img.shields.io/badge/Unity-6000.0%2B-blueviolet?logo=unity)](https://unity.com/releases/editor/archive)
[![Releases](https://img.shields.io/github/release/MidraLab/uDesktopMascot.svg)](https://github.com/MidraLab/uDesktopMascot/releases)
[![Unity Test CI](https://github.com/MidraLab/uDesktopMascot/actions/workflows/edit-test.yml/badge.svg)](https://github.com/MidraLab/uDesktopMascot/actions/workflows/edit-test.yml)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/MidraLab/uDesktopMascot)

日本語 | [English](README_EN.md) | [中文](README_CN.md) | [Español](README_ES.md) | [Français](README_FR.md)

**Note**: The above languages (English, 中文, Español, Français) are generated by automatic translation using GPT-4o-mini. For accuracy and nuances in the translation, please refer to the original text (Japanese).

<!-- TOC -->
* [uDesktopMascot](#udesktopmascot)
  * [Overview](#overview)
  * [Feature List](#feature-list)
  * [Running on macOS](#running-on-macos)
  * [Requirements](#requirements)
  * [License](#license)
  * [Materials](#materials)
  * [How to Create Installer](#how-to-create-installer)
    * [Windows](#windows)
    * [macOS](#macos)
  * [Credits](#credits)
  * [3rd Party Notices](#3rd-party-notices)
  * [Sponsor](#sponsor)
<!-- TOC -->

## Overview

"uDesktopMascot" is an open-source desktop mascot application project themed around "liberating creativity". One example of its functionality is the ability to load models in VRM or GLB/FBX formats and display them on the desktop. It also allows users to freely set the colors and background images of the GUI, such as the menu screen or application window. For a detailed list of features, please refer to the [Feature List](#feature-list).

![](Docs/Image/AppImage.png)

**Supported Platforms**
* Windows 10/11
* macOS

## Feature List

The application includes the following features. Please refer to the list below for details.

You can add external assets by placing them in the StreamingAssets folder.

<details>

<summary>Model and Animation</summary>

* Loads and displays any model file placed in StreamingAssets.
  * Supports VRM (1.x and 0.x) format.
  * Supports GLB/GLTF format (animation not supported).
  * Supports FBX format (note that some models may not load textures correctly and animation is not supported).
    * Textures can be loaded by placing them in StreamingAssets/textures/.
* Adding VRM models through the model selection screen:
  * Add by specifying the path.
  * Add through the file selection dialog.

</details>

<details>

<summary>Voice and BGM</summary>

* Loads and plays sound files placed in StreamingAssets/Voice/. If there are multiple files, they will play randomly.
  * Sound played upon clicking is loaded from sound files placed in StreamingAssets/Voice/Click/.
* Loads and plays music files placed in StreamingAssets/BGM/. If there are multiple files, they will play randomly.
* Adding default voice for the character:
  * The default voice uses audio from [COEIROINK: Tsukuyomi-chan](https://coeiroink.com/character/audio-character/tsukuyomi-chan).
  * Played at application startup, application exit, and upon clicking.

</details>

<details>

<summary>Application Settings via Text File</summary>
You can change the application settings using the application_settings.txt file.

The structure of the setting file is as follows:

```txt
[Character]
ModelPath=default.vrm
TexturePaths=test.png
Scale=3
PositionX=0
PositionY=0
PositionZ=0
RotationX=0
RotationY=0
RotationZ=0

[Sound]
VoiceVolume=1
BGMVolume=0.5
SEVolume=1

[Display]
Opacity=1
AlwaysOnTop=True

[Performance]
TargetFrameRate=60
QualityLevel=2
```

</details>

<details>

<summary>Menu Screen</summary>

* You can set the background image and color of the menu screen.
  * The background image can be loaded from image files placed in StreamingAssets/Menu/. Supported image formats are:
    * PNG
    * JPG (JPEG)
    * BMP
    * GIF (still images)
    * TGA
    * TIFF
  * The background color can be specified using color codes.
* You can access the following functions from the menu screen:
  * Model selection and addition screen
  * AI chat feature
  * LocalWeb feature
  * Application settings
  * Exit application
* By pressing the collapse button on the menu screen, the application can be minimized to the notification area on Windows.
  * The minimized application can be reopened by clicking the icon in the notification area.

</details>

## Running on macOS

When running the application on macOS, it may be blocked by GateKeeper.
In this case, please execute the following command from the terminal.

```sh
xattr -r -c uDesktopMascot.app
```

## Requirements
* Unity 6000.1.1f1 (IL2CPP)

## License
* The code is licensed under the [Apache License 2.0](LICENSE).
* The following assets are licensed under [CC BY-NC 4.0](https://creativecommons.org/licenses/by-nc/4.0/):
  * BGM
  * Models

## Materials
* The default character animation is created using the [“VRM Doll Play” animation data collection](https://fumi2kick.booth.pm/items/1655686). This has been confirmed for inclusion and distribution in the repository.
* The font used is [Noto Sans Japanese](https://fonts.google.com/noto/specimen/Noto+Sans+JP?lang=ja_Jpan). Redistribution of the Noto Sans JP font is done under the [SIL OPEN FONT LICENSE Version 1.1](https://fonts.google.com/noto/specimen/Noto+Sans+JP/license?lang=ja_Jpan). The copyright for the font belongs to the original author (Google).
* The default voice uses audio from [COEIROINK: Tsukuyomi-chan](https://coeiroink.com/character/audio-character/tsukuyomi-chan). The usage has been confirmed with COEIROINK beforehand.
* Icon buttons use [MingCute](https://github.com/MidraLab/MingCute).

## How to Create Installer
### Windows
* Build in Unity with the name `uDesktopMascot` in the `build` folder.
```
uDesktopMascot
└── build
    └── uDesktopMascot
        ├── uDesktopMascot.exe
        └── README.txt
        ...
```

* Install [Inno Setup](https://www.jrsoftware.org/isdl.php).
  
* Once opened, click `More files` and select `setup.iss` in the project directory.
  
![](Docs/Image/SetupIss-1.png)
* After selecting, click the play button.
  
![](Docs/Image/SetupIss-2.png)
* Once the build is complete, the installer will be generated in the project's root.

### macOS
You can only create an installer on macOS.

* Build in Unity with the name `uDesktopMascot` in the `build/uDesktopMascot` folder.
```
uDesktopMascot
└── build
    └── uDesktopMascot
        ├── uDesktopMascot.app
        └── README.txt
```

* Execute the following command.
```sh
cd build
productbuild --component uDesktopMascot/uDesktopMascot.app /Applications ./uDesktopMascot_mac_installer.pkg
```
* Once the build is complete, `uDesktopMascot_mac_installer.pkg` will be generated in the `build` folder.

## Credits
* Model: Aozora
* BGM: MidraLab (eisuke)
* Software Icon: Yamucha

## 3rd Party Notices

See [NOTICE](./NOTICE.md).

## Sponsor
- Luna
- uezo